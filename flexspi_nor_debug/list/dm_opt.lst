###############################################################################
#
# IAR ANSI C/C++ Compiler V8.32.3.193/W32 for ARM         26/Jun/2019  16:21:29
# Copyright 1999-2019 IAR Systems AB.
#
#    Cpu mode     =  
#    Endian       =  little
#    Source file  =  
#        C:\Development\gzkc_smart_nbiot\csdk\eng\dev_model\dm_opt.c
#    Command line =  
#        -f C:\Users\nxf42695\AppData\Local\Temp\2\EW2BFA.tmp
#        (C:\Development\gzkc_smart_nbiot\csdk\eng\dev_model\dm_opt.c -D DEBUG
#        -D USE_RTOS -D XIP_EXTERNAL_FLASH=1 -D XIP_BOOT_HEADER_ENABLE=1 -D
#        CPU_MIMXRT1052DVL6B -D FSL_RTOS_FREE_RTOS -D PRINTF_ADVANCED_ENABLE -D
#        "MBEDTLS_CONFIG_FILE=\"ksdk_mbedtls_config.h\"" -lC
#        C:\Development\gzkc_smart_nbiot\flexspi_nor_debug\list -lA
#        C:\Development\gzkc_smart_nbiot\flexspi_nor_debug\list --diag_suppress
#        Pa082,Pa050 -o C:\Development\gzkc_smart_nbiot\flexspi_nor_debug\obj
#        --no_cse --no_unroll --no_inline --no_code_motion --no_tbaa
#        --no_clustering --no_scheduling --debug --endian=little
#        --cpu=Cortex-M7 -e --fpu=VFPv5_d16 --dlib_config "C:\Program Files
#        (x86)\IAR Systems\Embedded Workbench
#        8.2\arm\inc\c\DLib_Config_Normal.h" --preinclude
#        C:\Development\gzkc_smart_nbiot/source\app_preinclude.h -I
#        C:\Development\gzkc_smart_nbiot/board\ -I
#        C:\Development\gzkc_smart_nbiot/source\ -I
#        C:\Development\gzkc_smart_nbiot/CMSIS\ -I
#        C:\Development\gzkc_smart_nbiot/amazon-freertos/freertos/portable\ -I
#        C:\Development\gzkc_smart_nbiot/amazon-freertos/include\ -I
#        C:\Development\gzkc_smart_nbiot/component/lists\ -I
#        C:\Development\gzkc_smart_nbiot/component/serial_manager\ -I
#        C:\Development\gzkc_smart_nbiot/component/uart\ -I
#        C:\Development\gzkc_smart_nbiot/component/kv\ -I
#        C:\Development\gzkc_smart_nbiot/component/kv/include\ -I
#        C:\Development\gzkc_smart_nbiot/device\ -I
#        C:\Development\gzkc_smart_nbiot/doc\ -I
#        C:\Development\gzkc_smart_nbiot/drivers\ -I
#        C:\Development\gzkc_smart_nbiot/src\ -I
#        C:\Development\gzkc_smart_nbiot/startup\ -I
#        C:\Development\gzkc_smart_nbiot/utilities\ -I
#        C:\Development\gzkc_smart_nbiot/xip\ -I
#        C:\Development\gzkc_smart_nbiot\csdk\eng\ -I
#        C:\Development\gzkc_smart_nbiot\csdk\eng\atm\ -I
#        C:\Development\gzkc_smart_nbiot\csdk\eng\dev_model\ -I
#        C:\Development\gzkc_smart_nbiot\csdk\eng\dev_sign\ -I
#        C:\Development\gzkc_smart_nbiot\csdk\eng\infra\ -I
#        C:\Development\gzkc_smart_nbiot\csdk\eng\mqtt\ -I
#        C:\Development\gzkc_smart_nbiot\csdk\eng\wrappers\ -I
#        C:\Development\gzkc_smart_nbiot\csdk\eng\wrappers\external_libs\ -I
#        C:\Development\gzkc_smart_nbiot\csdk\eng\coap_cloud\ -I
#        C:\Development\gzkc_smart_nbiot\csdk\eng\coap_server\ -I
#        C:\Development\gzkc_smart_nbiot\csdk\eng\coap_server\CoAPPacket\ -I
#        C:\Development\gzkc_smart_nbiot\csdk\eng\coap_server\server\ -I
#        C:\Development\gzkc_smart_nbiot\csdk\eng\dev_bind\ -I
#        C:\Development\gzkc_smart_nbiot\csdk\eng\dev_bind\impl\ -I
#        C:\Development\gzkc_smart_nbiot\csdk\eng\dev_bind\impl\os\ -I
#        C:\Development\gzkc_smart_nbiot\csdk\eng\dev_bind\impl\awss_reset\ -I
#        C:\Development\gzkc_smart_nbiot\mbedtls\include\mbedtls\ -I
#        C:\Development\gzkc_smart_nbiot\mbedtls\include\ -I
#        C:\Development\gzkc_smart_nbiot\mbedtls\port\ksdk\ -Om)
#    Locale       =  C
#    List file    =  
#        C:\Development\gzkc_smart_nbiot\flexspi_nor_debug\list\dm_opt.lst
#    Object file  =  
#        C:\Development\gzkc_smart_nbiot\flexspi_nor_debug\obj\dm_opt.o
#
###############################################################################

C:\Development\gzkc_smart_nbiot\csdk\eng\dev_model\dm_opt.c
      1          /*
      2           * Copyright (C) 2015-2018 Alibaba Group Holding Limited
      3           */
      4          #include "iotx_dm_internal.h"
      5          
      6          #if !defined(DEVICE_MODEL_RAWDATA_SOLO)
      7          

   \                                 In section .data, align 4
      8          static dm_opt_ctx g_dm_opt = {
   \                     g_dm_opt:
   \        0x0   0x0000'0000        DC32 0, 0, 1, 1, 1
   \              0x0000'0000  
   \              0x0000'0001  
   \              0x0000'0001  
   \              0x0000'0001  
      9              0, 0, 1, 1, 1
     10          };
     11          

   \                                 In section .text, align 2, keep-with-next
     12          int dm_opt_set(dm_opt_t opt, void *data)
     13          {
   \                     dm_opt_set: (+1)
   \        0x0   0x4602             MOV      R2,R0
     14              int res = SUCCESS_RETURN;
   \        0x2   0x2000             MOVS     R0,#+0
     15          
     16              if (data == NULL) {
   \        0x4   0x2900             CMP      R1,#+0
   \        0x6   0xD102             BNE.N    ??dm_opt_set_0
     17                  return FAIL_RETURN;
   \        0x8   0xF04F 0x30FF      MOV      R0,#-1
   \        0xC   0x4770             BX       LR
     18              }
     19          
     20              switch (opt) {
   \                     ??dm_opt_set_0: (+1)
   \        0xE   0x2A00             CMP      R2,#+0
   \       0x10   0xD003             BEQ.N    ??dm_opt_set_1
   \       0x12   0x2A02             CMP      R2,#+2
   \       0x14   0xD009             BEQ.N    ??dm_opt_set_2
   \       0x16   0xD304             BCC.N    ??dm_opt_set_3
   \       0x18   0xE00B             B.N      ??dm_opt_set_4
     21                  case DM_OPT_DOWNSTREAM_PROPERTY_POST_REPLY: {
     22                      int opt = *(int *)(data);
     23                      g_dm_opt.prop_post_reply_opt = opt;
   \                     ??dm_opt_set_1: (+1)
   \       0x1A   0x6809             LDR      R1,[R1, #+0]
   \       0x1C   0x....             LDR.N    R2,??DataTable1
   \       0x1E   0x6011             STR      R1,[R2, #+0]
     24                  }
     25                  break;
   \       0x20   0x4770             BX       LR
     26                  case DM_OPT_DOWNSTREAM_EVENT_POST_REPLY: {
     27                      int opt = *(int *)(data);
     28                      g_dm_opt.event_post_reply_opt = opt;
   \                     ??dm_opt_set_3: (+1)
   \       0x22   0x6809             LDR      R1,[R1, #+0]
   \       0x24   0x....             LDR.N    R2,??DataTable1
   \       0x26   0x6051             STR      R1,[R2, #+4]
     29                  }
     30                  break;
   \       0x28   0x4770             BX       LR
     31                  case DM_OPT_UPSTREAM_PROPERTY_SET_REPLY: {
     32                      int opt = *(int *)(data);
     33                      g_dm_opt.prop_set_reply_opt = opt;
   \                     ??dm_opt_set_2: (+1)
   \       0x2A   0x6809             LDR      R1,[R1, #+0]
   \       0x2C   0x....             LDR.N    R2,??DataTable1
   \       0x2E   0x6091             STR      R1,[R2, #+8]
     34                  }
     35                  break;
   \       0x30   0x4770             BX       LR
     36          #ifdef DEVICE_MODEL_SHADOW
     37                  case DM_OPT_DOWNSTREAM_EVENT_PROPERTY_DESIRED_GET_REPLY: {
     38                      int opt = *(int *)(data);
     39                      g_dm_opt.prop_desired_get_reply_opt = opt;
     40                  }
     41                  break;
     42                  case DM_OPT_DOWNSTREAM_EVENT_PROPERTY_DESIRED_DELETE_REPLY: {
     43                      int opt = *(int *)(data);
     44                      g_dm_opt.prop_desired_delete_reply_opt = opt;
     45                  }
     46                  break;
     47          #endif
     48                  default: {
     49                      res = FAIL_RETURN;
   \                     ??dm_opt_set_4: (+1)
   \       0x32   0xF04F 0x30FF      MOV      R0,#-1
     50                  }
     51                  break;
     52              }
     53          
     54              return res;
   \       0x36   0x4770             BX       LR               ;; return
     55          }
     56          

   \                                 In section .text, align 2, keep-with-next
     57          int dm_opt_get(dm_opt_t opt, void *data)
     58          {
   \                     dm_opt_get: (+1)
   \        0x0   0x4602             MOV      R2,R0
     59              int res = SUCCESS_RETURN;
   \        0x2   0x2000             MOVS     R0,#+0
     60          
     61              if (data == NULL) {
   \        0x4   0x2900             CMP      R1,#+0
   \        0x6   0xD102             BNE.N    ??dm_opt_get_0
     62                  return FAIL_RETURN;
   \        0x8   0xF04F 0x30FF      MOV      R0,#-1
   \        0xC   0x4770             BX       LR
     63              }
     64          
     65              switch (opt) {
   \                     ??dm_opt_get_0: (+1)
   \        0xE   0x2A00             CMP      R2,#+0
   \       0x10   0xD003             BEQ.N    ??dm_opt_get_1
   \       0x12   0x2A02             CMP      R2,#+2
   \       0x14   0xD009             BEQ.N    ??dm_opt_get_2
   \       0x16   0xD304             BCC.N    ??dm_opt_get_3
   \       0x18   0xE00B             B.N      ??dm_opt_get_4
     66                  case DM_OPT_DOWNSTREAM_PROPERTY_POST_REPLY: {
     67                      *(int *)(data) = g_dm_opt.prop_post_reply_opt;
   \                     ??dm_opt_get_1: (+1)
   \       0x1A   0x....             LDR.N    R2,??DataTable1
   \       0x1C   0x6812             LDR      R2,[R2, #+0]
   \       0x1E   0x600A             STR      R2,[R1, #+0]
     68                  }
     69                  break;
   \       0x20   0x4770             BX       LR
     70                  case DM_OPT_DOWNSTREAM_EVENT_POST_REPLY: {
     71                      *(int *)(data) = g_dm_opt.event_post_reply_opt;
   \                     ??dm_opt_get_3: (+1)
   \       0x22   0x....             LDR.N    R2,??DataTable1
   \       0x24   0x6852             LDR      R2,[R2, #+4]
   \       0x26   0x600A             STR      R2,[R1, #+0]
     72                  }
     73                  break;
   \       0x28   0x4770             BX       LR
     74                  case DM_OPT_UPSTREAM_PROPERTY_SET_REPLY: {
     75                      *(int *)(data) = g_dm_opt.prop_set_reply_opt;
   \                     ??dm_opt_get_2: (+1)
   \       0x2A   0x....             LDR.N    R2,??DataTable1
   \       0x2C   0x6892             LDR      R2,[R2, #+8]
   \       0x2E   0x600A             STR      R2,[R1, #+0]
     76                  }
     77                  break;
   \       0x30   0x4770             BX       LR
     78          #ifdef DEVICE_MODEL_SHADOW
     79                  case DM_OPT_DOWNSTREAM_EVENT_PROPERTY_DESIRED_DELETE_REPLY: {
     80                      *(int *)(data) = g_dm_opt.prop_desired_delete_reply_opt;
     81                  }
     82                  break;
     83                  case DM_OPT_DOWNSTREAM_EVENT_PROPERTY_DESIRED_GET_REPLY: {
     84                      *(int *)(data) = g_dm_opt.prop_desired_get_reply_opt;
     85                  }
     86                  break;
     87          #endif
     88                  default: {
     89                      res = FAIL_RETURN;
   \                     ??dm_opt_get_4: (+1)
   \       0x32   0xF04F 0x30FF      MOV      R0,#-1
     90                  }
     91                  break;
     92              }
     93          
     94              return res;
   \       0x36   0x4770             BX       LR               ;; return
     95          }

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable1:
   \        0x0   0x....'....        DC32     g_dm_opt
     96          #endif

   Maximum stack usage in bytes:

   .cstack Function
   ------- --------
       0   dm_opt_get
       0   dm_opt_set


   Section sizes:

   Bytes  Function/Label
   -----  --------------
       4  ??DataTable1
      56  dm_opt_get
      56  dm_opt_set
      20  g_dm_opt

 
  20 bytes in section .data
 116 bytes in section .text
 
 116 bytes of CODE memory
  20 bytes of DATA memory

Errors: none
Warnings: none
